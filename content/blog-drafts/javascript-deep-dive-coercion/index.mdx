---
title: JavaScript deep dive - Coercion
slug: javascript-deep-dive-coercion
date: 2020-04-28
excerpt: A deep dive into what coercion is and how it works in JavaScript
tags: [Programming, JavaScript, Coercion]
---

![sunrise](./sadman-sakib-E-X6zqkLmyk-unsplash.jpg)
Photo by Sadman Sakib on Unsplash

## Introduction

In my option, the best resource there is for coercion in JavaScript is the "You don't know JS" (YDKJS) e-book series by Kyle Simpson. At the time of writing, Kyle is in the process of writing the second edition and hasn't yet updated the chapter on "Types & Grammer" where you'll find all the pages on coercion. However you can still view the [the same chapter in the first edition](https://github.com/getify/You-Dont-Know-JS/blob/1st-ed/types%20%26%20grammar/ch4.md). It's an excellent resource and goes super in depth on how coercon works in JavaScript. This blog post is basically going to be a re-hashing of that artcle as I attempt to put it into my own words and to help with my own understanding.

Given the above, I'd like to start this blog post with a direct quote from the YDKJS series, where Kyle introduces coercion. I think it applies really well to why I decided to write this deep dive into JavaScript blog series in the first place.

> In the same overall spirit of this series, rather than running away from coercion because everyone else does, or because you get bitten by some quirk, I think you should run toward that which you donâ€™t understand and seek to get it more fully.

With that out of the way, we can get started.

## Coercion

It is common practice in programming to need to change a variable from one data type to another. This is called "type casting", and many languages support it.

Here's an example of type casting in the "c" programming language.

```c
double x;
y = (double) 5;   // type casing an Integer to a Double
```

We can also type cast in JavaScript too, using some native functions:

```javascript
const num = Number("42") // 42 (type casting a string to a number)
const str = String([1, 2, 3]) // 1, 2, 3 (type casting an array to a string)
```

In all the above cases, we say they are type casting, because each data type is converted to another type _explicitly_. We say _explicit_ because the `Number(..)` function and the `String(..)` function make it super obvious that the data types are changing to a `number` and `string` respectively.

By contrast, **Corecion**, is changing a variable from one data type to another _implicitly_. Here we say _implicit_ to mean that it is not super obvious that the data type has changed, but we are instead using the set of rules imposed by the programming langauge to change how different data types are represented in different situations.

We'll deep dive into what I mean by _"the set of rules imposed by the programming language"_ later in the article, but for now, let's look at a couple of common examples of coercion in JavaScript. That is, an _implicit_ conversion of data types.

```javascript
const string = "This is a string"
if (string) {
  // The code will enter here because string has a value and is therefore
  // "coerced" to `true`.
}

const newString = ""
if (string) {
  // The code will not enter here because newString is an empty string value,
  // and therefore will be "coerced" to `false`.
}
```

You may have used something similar to the above in your code. It is a common pattern to evaluate if a string exists and has a value; but what's actually happening here? An `if block` cannot evaluate a `string`, it can only evaluate a `boolean` or an expression that returns a `boolean`... what's happening is that the language is coercing the `string` to a `boolean`.

To put in another way, if we were to do the above coersions _explicitly_ instead, it would look like this:

```javascript
Boolean("This is a string") // true
Boolean("") // false
```

The language already knows that the date type conversion of `string` to `boolean` is what we intend to do because of the set of rules imposed by the programming language, therefore it _implicitly_ changes the data type for us. **That's coercion**.

As I said above, each programming language will have it's own set of rules that it imposes for coersion. Languages with strong typing (like Java and Objective-C) typically do little implicit conversions, while languages with weak typing (like JavaScript) perform many implicit conversions between data types. Coersion can also happen at compilation time, or run time, depending on the coercion.

Up until now, I've tried to speak quite generally, because all of the above applies to many programming languages, not just JavaScript. However each programming language will have it's own set of rules that it imposes for coercion, and since this is supposed to be a deep dive into JavaScript coercion, I'll be focusing on only JavaScript moving forward.

Quote from YDKJS

Happy Coding!
